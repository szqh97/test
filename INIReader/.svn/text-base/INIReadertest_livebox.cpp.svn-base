// Example that shows simple usage of the INIReader class

#include <iostream>
#include <string.h>
#include "INIReader.h"
using namespace std;

int main()
{
    INIReader reader("./live_box.conf");

    if (reader.ParseError() < 0) {
        std::cout << "Can't load 'live_box.conf'\n";
        return 1;
    }

    string b = "2k";
    b = reader.Get("ffmpeg_configure", "bitrate", "200k") ;
    std::cout << "Config loaded from 'live_box.conf': captureId= "
        << reader.GetInteger("taskGenerator", "captureId", 0)  << ", bitrate= "
        << b         << std::endl;
        /*
              << reader.GetInteger("protocol", "version", -1) << ", name="
              << reader.Get("user", "name", "UNKNOWN") << ", email="
              << reader.Get("user", "email", "UNKNOWN") << ", pi="
              << reader.GetReal("user", "pi", -1) << ", active="
              << reader.GetBoolean("user", "active", true) << "\n";
          */
    return 0;
}
